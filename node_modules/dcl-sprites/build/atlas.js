import * as DCL from "decentraland-api";
export function createAtlas(opts) {
    const { textureSize, frames, material } = opts;
    let obj = {};
    Object.keys(frames).forEach(name => {
        const frame = frames[name];
        const sw = textureSize.width;
        const sh = textureSize.height;
        const x = frame.x / sw;
        const y = frame.y / sh;
        const w = frame.width / sw;
        const h = frame.height / sh;
        let uvs = [];
        uvs[0] = x;
        uvs[1] = 1 - y - h;
        uvs[2] = x + w;
        uvs[3] = 1 - y - h;
        uvs[4] = x + w;
        uvs[5] = 1 - y;
        uvs[6] = x;
        uvs[7] = 1 - y;
        uvs = uvs.concat(uvs);
        obj[name] = uvs;
    });
    return function (props) {
        return DCL.createElement("plane", Object.assign({}, props, { material: material, uvs: obj[props.frame] }));
    };
}
